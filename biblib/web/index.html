<!DOCTYPE HTML>
<html>
    <head>
        <title>Ref Manager. A very lounge demo</title>
        <script type="text/javascript" charset="utf-8" src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
        <script type="text/javascript" src="https://rawgithub.com/datagraph/jquery-jsonrpc/master/jquery.jsonrpc.js"></script>
        <script type="text/javascript" src="js/vendor/jquery.toastmessage.js"></script>
        <script type="text/javascript" src="js/vendor/bootstrap.min.js"></script>
        <!-- maize and his domino wrapper 
            
            maize.domino namespace will be available along with the api
        
    
        -->
        <script "text/javascript" src="js/vendor/domino.min.js"></script>
        <script "text/javascript" src="js/maize.js"></script>
        <script "text/javascript" src="js/maize/domino.js"></script>

        <!-- stylesheets -->
        <link rel="stylesheet" type="text/css" href="/css/960.min.css"/>
        <link rel="stylesheet" type="text/css" href="/css/normalize.css"/>
        <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css"/>
        <link rel="stylesheet" type="text/css" href="css/fonts.css"/>
        
        <!-- lesses -->
        <link rel="stylesheet/less" type="text/css" href="/less/style.less"/>
        <script src="js/vendor/less-1.3.0.min.js" type="text/javascript"></script>

        <script type="text/javascript">
            /*
            
                setting up maize.domino
                =======================
                
                Note: Cfr maize.domino.ready function
                This url list manifests all available jsonRPC methods.
                Objects are mere collections, only values are transformed.

                Api calls will be available under maize.domino.api.

                e.g

                maize.domino.urls = {
                    echo: "echo"
                }
                will be appended to maize.domino.api dictionary
                and executed with:

                maize.domino.api.echo.execute( params, callback )

            */

            maize.domino.urls = {
                echo: "echo",
                save: "save",
                citation: {
                    by_rec_ids: 'citation_by_rec_ids',
                },
                metadata:{
                    by_rec_ids: 'metadata_by_rec_ids',
                    by_mongo_ids: 'metadata_by_mongo_ids'
                }
            }



            $(document).ready(function() {
                maize.domino.ready();
            });    
        </script>
    </head>
    <body>
        


        <div class="container_12">

            <h1>Welcome to Remanager</h1>
            <h2>till now, your favourite reference manager...</h2>
            <form>
                <p>
                    <button class="btn btn-primary"  data-domino-module='ChapterLink' data-ui="stack" data-href="add-reference">add bibliographic reference</button>
                </p>
            </form>


            <div class="stacks" id="stacks">

                <div id="add-reference" class="stack-page">
                    <h2>add bibliographic reference</h2>
                    <ul>
                        <li data-domino-module='ChapterLink' data-ui="stack" data-href="add-reference-text"><h3>Text</h3></li>
                        <li data-domino-module='ChapterLink' data-ui="stack" data-href="add-reference-audio"><h3>Image</h3></li>
                        <li data-domino-module='ChapterLink' data-ui="stack" data-href="add-reference-audio"><h3>Audio</h3></li>
                        <li data-domino-module='ChapterLink' data-ui="stack" data-href="add-reference-video"><h3>Video</h3></li>
                    </ul>
                </div>

                <div id="add-reference-text" class="stack-page">
                    <h2>add bibliographic reference / book</h2>
                    <ul>
                        <li data-domino-module='ChapterLink' data-ui="stack" data-href="add-reference-text-article"><h3>Article</h3></li>
                        <li data-domino-module='ChapterLink' data-ui="stack" data-href="add-reference-audio"><h3>Book</h3></li>
                    </ul>
                </div>

                <div id="add-reference-text-article" class="stack-page">
                    <h2>add bibliographic reference / book</h2>
                    <ul>
                        <li data-domino-module='ChapterLink' data-ui="stack" data-href="add-reference-text">Article</li>
                        <li data-domino-module='ChapterLink' data-ui="stack" data-href="add-reference-audio">Book</li>
                    </ul>
                </div>

                <div class="stack-controller">
                    close
                </div>
            </div>
           <!-- MODALS -->
           <!-- modals -->
            <div id="add-reference-old"
                 data-domino-module='Chapter' data-story="add" data-chapter-index="add.starter"
                 class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h2>add a reference</h2>
                </div>
                <div class="modal-body">
                    <ul>    
                        <li data-domino-module='ChapterLink' data-ui="modal" data-href="add-reference-text">Text</li>
                        <li data-domino-module='ChapterLink' data-ui="modal" data-href="add-reference-audio">Image</li>
                        <li data-domino-module='ChapterLink' data-ui="modal" data-href="add-reference-audio">Audio</li>
                        <li data-domino-module='ChapterLink' data-ui="modal" data-href="add-reference-video">Video</li>
                    </ul>
                    
                </div>
               
            </div>

             <div id="add-publication"
                 data-domino-module='Chapter' data-story="add" data-chapter-index="add.publication"
                 class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h2>add a publication</h2>
                </div>
                <div class="modal-body">
                    <p>uhm... title?
                    </p>
                   
                
                </div>
                <div class="modal-footer">
                    <button class="btn" data-domino-module='ChapterLink' data-chapter-index="add.starter" data-dismiss="modal" aria-hidden="true">back</button>
                    <button class="btn" data-dismiss="modal" aria-hidden="true">close</button>
                   
                </div>
            </div>

            <div id="add-video"
                 data-domino-module='Chapter' data-story="add" data-chapter-index="add.publication"
                 class="modal fade hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h2>add a publication</h2>
                </div>
                <div class="modal-body">
                    <p>uhm... title?
                    </p>
                   
                
                </div>
                <div class="modal-footer">
                    <button class="btn" data-domino-module='ChapterLink' data-chapter-index="add.starter" data-dismiss="modal" aria-hidden="true">back</button>
                    <button class="btn" data-dismiss="modal" aria-hidden="true">close</button>
                   
                </div>
            </div>




            <!-- "modal" chapter modules -->
            <div data-domino-module='Chapter' data-story="add" data-chapter-index="add.publication">
                hey!
            </div>

            
        </div>
    </body>
</html>

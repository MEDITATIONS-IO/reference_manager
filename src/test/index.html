<!DOCTYPE HTML>
<html>
    <head>
        <title>Ref Manager. A very lounge demo</title>
        <script type="text/javascript" charset="utf-8" src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
        <script type="text/javascript" src="https://raw.github.com/datagraph/jquery-jsonrpc/master/jquery.jsonrpc.js"></script>
        <script type="text/javascript" src="js/vendor/jquery.toastmessage.js"></script>
        <script type="text/javascript" src="js/vendor/bootstrap.min.js"></script>
        <!-- maize and his domino wrapper 
            
            maize.domino namespace will be available along with the api
        
    
        -->
        <script "text/javascript" src="js/vendor/domino.min.js"></script>
        <script "text/javascript" src="js/maize.js"></script>
        <script "text/javascript" src="js/maize/domino.js"></script>

        <!-- stylesheets -->
        <link rel="stylesheet" type="text/css" href="/css/960.min.css"/>
        <link rel="stylesheet" type="text/css" href="/css/normalize.css"/>
        <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css"/>
        <link rel="stylesheet" type="text/css" href="css/fonts.css"/>
        
        <!-- lesses -->
        <link rel="stylesheet/less" type="text/css" href="/less/style.less"/>
        <script src="js/vendor/less-1.3.0.min.js" type="text/javascript"></script>

        <script type="text/javascript">
            /*
            
                setting up maize.domino
                =======================
                
                Note: Cfr maize.domino.ready function
                This url list manifests all available jsonRPC methods.
                Objects are mere collections, only values are transformed.

                Api calls will be available under maize.domino.api.

                e.g

                maize.domino.urls = {
                    echo: "echo"
                }
                will be appended to maize.domino.api dictionary
                and executed with:

                maize.domino.api.echo.execute( params, callback )

            */

            maize.domino.urls = {
                echo: "echo",
                citation: {
                    by_rec_ids: 'citation_by_rec_ids',
                },
                metadata:{
                    by_rec_ids: 'metadata_by_rec_ids'
                }
            }



            $(document).ready(function() {
                maize.domino.ready();
            });    
        </script>
    </head>
    <body>
        <!-- modals -->
        <div id="add-walt-l-modal" data-logic='modal-stepper' data-step="1" class="modal hide fade in" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
                <h2>add a publication</h2>
            </div>
            <div class="modal-body">
                <p>type bib text entry directly.
                Each object should have at least a <b>slug</b> and a <b>title</b>.</p>
            
                <p>
                    <label for="id_add_pin_content">bibtext entry</label>
                    <textarea class="span6" id="id_add_walt_l_content">

                    </textarea>
                    <input type="hidden" id="id_add_walt_l_mimetype" value="text/x-bibtex">
                </p>
                <p>
                    <label for="id_add_walt_l_title_en">its title</label>
                    <input type="text" class="span6 repeatable" data-target="id_add_walt_l_slug" id="id_add_walt_l_title_en" placeholder="title">
                </p>
                
                <p>
                    <label for="id_add_walt_l_slug">slug</label>
                    <input type="text" class="span6" id="id_add_walt_l_slug" placeholder="slug">
                </p>
            
            </div>
            <div class="modal-footer">
                <button class="btn" data-dismiss="modal" aria-hidden="true">close</button>
                <button class="btn btn-primary add-walt-pin" data-page-slug="learn" data-auto-id="id_add_walt_l">add publication</button>
            </div>
        </div>


        <div class="container_12">

            <h1>Wrapp - simple jsonrpc test</h1>
            <form>
            <p>
                <label for="echo_input">Write something to test jsonRPC connection</label>
                <input autofocus type="text" class="span6" name="echo_input" id="echo_input" >
                <br />
                <button id="test-json" class="btn btn-primary"  data-toggle="modal" href="add-walt-l-modal" data-domino-module='button' value="TEST">test jsonRPC</button>
            </p>
           </form>
        </div>
    </body>
</html>